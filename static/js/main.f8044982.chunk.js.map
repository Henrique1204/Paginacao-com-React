{"version":3,"sources":["Componentes/Header.jsx","Componentes/Card.jsx","Componentes/Condicional.jsx","Componentes/Main.jsx","Componentes/footer.jsx","App.jsx","index.js"],"names":["className","style","background","backgroundSize","props","src","img","alt","titulo","autor","resumo","limite","palavras","split","soma","length","novoResumo","i","push","join","limitarResumo","href","condicao","children","useState","dados","setDados","pagina","setPagina","totalPaginas","setTotalPaginas","paginaLivro","isCarregando","setIsCarregando","buscarDados","url","config","a","fetch","req","headers","get","json","console","log","message","manipularScroll","window","innerHeight","document","documentElement","scrollTop","offsetHeight","useEffect","addEventListener","removeEventListener","method","map","item","key","id","Condicional","ReactDOM","render","StrictMode","App","getElementById"],"mappings":"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","file":"static/js/main.f8044982.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../Css/Header.css';\r\n\r\nexport default () =>  (\r\n  <header className=\"Header\">\r\n    <div className=\"container-titulo\">\r\n      <h1>Livraria ACME</h1>\r\n    </div>\r\n\r\n    <div style={{background: \"url(./img/bg-intro.png) no-repeat center\", backgroundSize: \"cover\"}} className=\"intro\">\r\n      <p>Encontre o livros que tanto busca com quem melhor entende do assunto</p>\r\n    </div>\r\n  </header>\r\n);\r\n","import React from \"react\";\r\nimport \"../Css/Card.css\";\r\n\r\nexport default (props) => (\r\n    <div className=\"Card col-12\">\r\n        <div className=\"img-container col-4\">\r\n            <img src={props.img} alt=\"Ilustração do livro\"/>\r\n        </div>\r\n\r\n        <div className=\"infos-card col-8\">\r\n            <h2>{props.titulo}</h2>\r\n            <span className=\"autor\">{props.autor}</span>\r\n            <p>{limitarResumo(props.resumo, 300)}</p>\r\n            <a href=\"/\">Ver mais</a>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nfunction limitarResumo(resumo, limite) {\r\n    const palavras = resumo.split(\" \");\r\n\r\n    let soma = palavras.length;\r\n    const novoResumo = [];\r\n\r\n    for(let i = 0; i < palavras.length; i++) {\r\n        soma += palavras[i].length;\r\n\r\n        if (soma <= limite) {\r\n            novoResumo.push(palavras[i]);\r\n        }\r\n    }\r\n\r\n    return `${novoResumo.join(\" \")}...`;\r\n}\r\n","export default (props) => {\r\n    if (props.condicao){\r\n        return props.children;\r\n    }\r\n    else{\r\n        return \"\";\r\n    }\r\n}","import React, { useState, useEffect } from 'react';\r\nimport Card from \"./Card.jsx\";\r\nimport Condicional from \"./Condicional.jsx\";\r\nimport \"../Css/Main.css\";\r\n\r\nexport default () => {\r\n  const [dados, setDados] = useState([]);\r\n  const [pagina, setPagina] = useState(1);\r\n  const [totalPaginas, setTotalPaginas] = useState(0);\r\n  const [paginaLivro, setPaginaLivro] = useState(2);\r\n  const [isCarregando, setIsCarregando] = useState(true);\r\n\r\n  const buscarDados = async (url, config) => {\r\n    try {\r\n      const req = await fetch(url, config);\r\n      setTotalPaginas(req.headers.get(\"X-Total-Count\") / paginaLivro);\r\n      const json = await req.json();\r\n\r\n      setDados([ ...dados,...json]);\r\n      setIsCarregando(false);\r\n    } catch (e) {\r\n      console.log(e.message);\r\n    }\r\n  }\r\n\r\n  const manipularScroll = () => {\r\n    const altura = window.innerHeight + document.documentElement.scrollTop;\r\n    const posicao = document.documentElement.offsetHeight - 70;\r\n    const isPagina = pagina === totalPaginas;\r\n\r\n    if(altura < posicao || isPagina || isCarregando) {\r\n      return;\r\n    }\r\n\r\n    setPagina(pagina + 1);\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"scroll\", manipularScroll);\r\n    return () => window.removeEventListener(\"scroll\", manipularScroll);\r\n  });\r\n\r\n  useEffect(() => {\r\n    buscarDados(`http://localhost:3000/livros?_page=${pagina}&_limit=${paginaLivro}`, {method: \"GET\"});\r\n  }, [pagina]);\r\n\r\n  return (\r\n    <main className=\"Main container\">\r\n      <h1 className=\"col-12\">Livro</h1>\r\n\r\n      <ul className=\"col-12\">\r\n        {dados.map((item) => (\r\n          <li key={item.id}>\r\n            <Card img=\"./img/livro.png\" titulo={item.titulo} autor={item.autor} resumo={item.resumo}/>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n\r\n      <Condicional condicao={isCarregando}>\r\n          <div className=\"box-anima\">\r\n              <div className=\"bolinha-anima\"></div>\r\n              <div className=\"bolinha-anima\"></div>\r\n              <div className=\"bolinha-anima\"></div>\r\n          </div>\r\n      </Condicional>\r\n    </main>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"../Css/footer.css\";\r\n\r\nexport default () => {\r\n    return (\r\n        <footer>\r\n            <h1>Paginação React - SENAI Suíço Brasileira</h1>\r\n            <ul className=\"container\">\r\n                <li className=\"col-4\"><span>Paulo Henrique</span> <a href=\"https://github.com/henrique1204\"><span>Henrique1204</span></a></li>\r\n                <li className=\"col-4\"><span>Artur Alves</span> <a href=\"https://github.com/Juneor93\"><span>Juneor93</span></a></li>\r\n                <li className=\"col-4\"><span>Nicollas Alves</span> <a href=\"https://github.com/SuperNicolau123\"><span>SuperNicolau123</span></a></li>\r\n                <li className=\"col-4\"><span>Jason Volney</span> <a href=\"https://github.com/JasonVolney\"><span>JasonVolney</span></a></li>\r\n                <li className=\"col-4\"><span>Julia Agatha</span> <a href=\"https://github.com/agatha-juh\"><span>agatha-juh</span></a></li>\r\n                <li className=\"col-4\"><span>Geovanne Sousa</span> <a href=\"https://github.com/Neutro17\"><span>Neutro17</span></a></li>\r\n            </ul>\r\n        </footer>\r\n    )\r\n}\r\n","import React, {Fragment} from 'react';\r\nimport Header from \"./Componentes/Header.jsx\";\r\nimport Main from \"./Componentes/Main.jsx\";\r\nimport Footer from \"./Componentes/footer.jsx\";\r\nimport './Css/index.css';\r\n\r\nexport default () => {\r\n  return (\r\n    <Fragment>\r\n        <Header />\r\n  \r\n        <Main />\r\n\r\n       <Footer />\r\n    </Fragment>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './Css/index.css';\r\nimport App from './App.jsx';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}